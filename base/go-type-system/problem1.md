# Go 数据类型 - 常见问题

## 目录
- [预声明数据类型](#预声明数据类型)
- [二进制表示](#二进制表示)
- [内存和大小](#内存和大小)
- [数据类型选择](#数据类型选择)
- [整数溢出和下溢](#整数溢出和下溢)

---

## 预声明数据类型

### Q1: 以下哪个不是 Go 的预声明数据类型？

**选项：**
1. int
2. float64
3. uint64
4. uint
5. **duration** ✓ (正确答案)
6. int8
7. rune
8. byte
9. float32
10. complex128

**答案：** `duration` 不是预声明数据类型。它实际上是 `time` 包中的 `time.Duration`。

---

### Q2: 什么是预声明数据类型？

**选项：**
1. 仅在编译器中使用的数据类型
2. **Go 内置的数据类型，可以在任何地方使用而无需导入任何包** ✓ (正确答案)
3. 变量的数据类型

**答案：** 预声明数据类型是 Go 中无需导入即可使用的内置类型。

---

## 二进制表示

### Q3: 使用 8 位可以表示多少个不同的数字或状态？

**选项：**
1. 8
2. 16
3. **256** ✓ (正确答案)
4. 65536

**解释：** 2^8 = 256，所以可以表示 256 个不同的状态。

---

### Q4: 2 字节包含多少位？

**选项：**
1. 2
2. 8
3. **16** ✓ (正确答案)
4. 32
5. 64

**解释：** 1 字节 = 8 位，所以 2 字节 = 16 位。

---

### Q5: 以下代码的输出是什么？

```go
fmt.Printf("%08b = %d", 2, 2)
```

**选项：**
1. 00000001 = 2
2. **00000010 = 2** ✓ (正确答案)
3. 00000100 = 2
4. 00001000 = 2

**解释：** 从右到左，每一位表示 2^(位置 - 1)：
- 位置 1：2^0 = 1
- 位置 2：2^1 = 2（此位被设置）
- 位置 3：2^2 = 4
- 位置 4：2^3 = 8

---

## 内存和大小

### Q6: int64 值使用多少字节的内存？

**选项：**
1. 4
2. **8** ✓ (正确答案)
3. 32
4. 64

**解释：** 1 字节 = 8 位，int64 是 64 位。所以，64 ÷ 8 = 8 字节。

---

### Q7: 存储 uint32 类型的值需要多少字节？

**选项：**
1. **4** ✓ (正确答案)
2. 8
3. 32
4. 64

**解释：** 1 字节 = 8 位，uint32 是 32 位。所以，32 ÷ 8 = 4 字节。

---

### Q8: int 数据类型的大小是多少？

**选项：**
1. **取决于平台：32 位或 64 位** ✓ (正确答案)
2. 32 位
3. 64 位

**解释：** Go 会在编译时根据目标机器架构（32 位或 64 位系统）改变 `int` 的大小。

---

## 数据类型选择

### Q9: 英文字母可以用 0-255 范围内的数字表示（例如，'A' = 65，'B' = 66）。存储英文字母的最佳数据类型是什么？

**选项：**
1. **byte** ✓ (正确答案)
2. rune
3. int64
4. float64

**解释：**
- **byte**（uint8）可以表示 0-255 的不同值，非常适合表示英文字母和数字。
- **rune**（int32）是 32 位，可以存储几乎所有 Unicode 字符，但对于仅英文字母来说太大了。
- **int64** 对于只有 256 个不同值来说过大。
- **float64** 不适合没有小数部分的整数。

---

## 整数溢出和下溢

### Q10: 以下代码输出什么？

```go
var letter uint8 = 255
fmt.Print(letter + 5)
```

**选项：**
1. 0
2. **4** ✓ (正确答案)
3. 5
4. 260

**解释：** 无符号整数在达到最大容量后会回绕。uint8 的最大值是 255：
- 255 + 1 = 0
- 255 + 2 = 1
- 255 + 3 = 2
- 255 + 4 = 3
- 255 + 5 = 4

---

### Q11: 以下代码输出什么？

```go
var num int8 = -128
fmt.Print(num - 3)
```

**选项：**
1. -131
2. **125** ✓ (正确答案)
3. -125

**解释：** 有符号整数在达到最小容量后会回绕。int8 的最小值是 -128，最大值是 127：
- -128 - 1 = 127
- -128 - 2 = 126
- -128 - 3 = 125

---

## 快速参考表

| 数据类型 | 大小（位） | 大小（字节） | 范围 |
|---------|-----------|------------|------|
| int8 | 8 | 1 | -128 到 127 |
| uint8 (byte) | 8 | 1 | 0 到 255 |
| int16 | 16 | 2 | -32,768 到 32,767 |
| uint16 | 16 | 2 | 0 到 65,535 |
| int32 (rune) | 32 | 4 | -2,147,483,648 到 2,147,483,647 |
| uint32 | 32 | 4 | 0 到 4,294,967,295 |
| int64 | 64 | 8 | -9,223,372,036,854,775,808 到 9,223,372,036,854,775,807 |
| uint64 | 64 | 8 | 0 到 18,446,744,073,709,551,615 |
| int | 32 或 64 | 4 或 8 | 取决于平台 |
| uint | 32 或 64 | 4 或 8 | 取决于平台 |
| float32 | 32 | 4 | IEEE-754 单精度 |
| float64 | 64 | 8 | IEEE-754 双精度 |
| complex64 | 64 | 8 | float32 部分的复数 |
| complex128 | 128 | 16 | float64 部分的复数 |

---

## 关键要点

1. **预声明类型**是内置的，无需导入
2. **1 字节 = 8 位**
3. **n 位**可以表示 **2^n** 个不同状态
4. **整数溢出/下溢**会导致回绕行为
5. 选择**最小的适当类型**以节省内存
6. **int 和 uint** 的大小取决于目标架构